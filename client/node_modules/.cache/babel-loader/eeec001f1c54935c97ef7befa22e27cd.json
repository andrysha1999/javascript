{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/javascript/client/src/Login.js\";\nimport React from 'react';\nimport App from './App';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: String,\n      password: String,\n      token: String\n    };\n    this.loginChange = this.loginChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  submit(event) {\n    fetch('http://localhost:3000/login/', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n      },\n      body: 'name=' + this.state.login + '&password=' + this.state.password\n    }).then(response => response.json()).then(result => {\n      localStorage.setItem(\"token\", result[\"token\"]);\n      localStorage.setItem(\"authorized\", 1);\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n  loginChange(event) {\n    this.setState({\n      login: event.target.value\n    });\n  }\n\n  passwordChange(event) {\n    this.setState({\n      password: event.target.value\n    });\n  }\n\n  render() {\n    if (localStorage.getItem(\"authorized\") == true) {\n      this.props.history.push(\"/\");\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41\n        },\n        __self: this\n      }, \"Already authorized\");\n    } else return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"Login\"), React.createElement(\"form\", {\n      id: \"login\",\n      onSubmit: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"First name:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      onChange: this.loginChange,\n      name: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"password:\"), React.createElement(\"input\", {\n      type: \"password\",\n      onChange: this.passwordChange,\n      name: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/ubuntu/javascript/client/src/Login.js"],"names":["React","App","Login","Component","constructor","props","state","login","String","password","token","loginChange","bind","passwordChange","submit","event","fetch","method","headers","body","then","response","json","result","localStorage","setItem","catch","error","console","log","setState","target","value","render","getItem","history","push"],"mappings":"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","sourcesContent":["import React from 'react';\nimport App from './App';\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: String,\n      password: String,\n      token: String\n    }\n    this.loginChange = this.loginChange.bind(this);\n    this.passwordChange = this.passwordChange.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n  submit(event) {\n    fetch('http://localhost:3000/login/', {\n      method: \"POST\",\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'\n      },\n      body: 'name=' + this.state.login + '&password=' + this.state.password\n    })\n      .then(response => response.json())\n      .then(result => {\n        localStorage.setItem(\"token\", result[\"token\"])\n        localStorage.setItem(\"authorized\", 1)\n      })\n      .catch((error) => {\n        console.log(error)\n      })\n  }\n  loginChange(event) {\n    this.setState({ login: event.target.value })\n  }\n  passwordChange(event) {\n    this.setState({ password: event.target.value })\n  }\n  render() {\n    if (localStorage.getItem(\"authorized\") == true) {\n      this.props.history.push(\"/\");\n      return (<div>\n        Already authorized\n      </div>)\n    }\n    else\n      return (\n        <div>\n          <h2>Login</h2>\n          <form id=\"login\" onSubmit={this.submit}>\n            First name:<br></br>\n            <input type=\"text\" onChange={this.loginChange} name=\"name\"></input>\n            <p>password:</p>\n            <input type=\"password\" onChange={this.passwordChange} name=\"password\"></input>\n            <p><input type=\"submit\"></input></p>\n          </form>\n        </div >\n      );\n  }\n}\nexport default Login"]},"metadata":{},"sourceType":"module"}